# IP (Internet Protocol)

Data can be transmitted using **TCP** or **UDP**.

---

## TCP: Transmission Control Protocol

*Connection-oriented*

- Has a formal **connection setup and close** process.
- Considered **reliable** because it uses **ACKs (acknowledgements)**.  
  → Sender and receiver confirm whether data was received successfully.
- Supports **flow control**: the receiver can manage how much data is sent.

---

## UDP: User Datagram Protocol

*Connectionless*

- No formal open or close process.
- No acknowledgement from the receiver → **unreliable delivery**.  
- No reordering of data or retransmissions.  
- No flow control.

So why use UDP if TCP is "better"?

- **Less overhead** than TCP.
- Great for **real-time communications** (voice, video, streaming, gaming).  
  → If something is lost, you can resend quickly or just keep going.

---

## Examples

### Protocols that use UDP
- **DHCP (Dynamic Host Configuration Protocol)**  
  Assigns IP addresses automatically to devices on a network.

- **TFTP (Trivial File Transfer Protocol)**  
  Sends small amounts of data across the network without extra overhead.

⚠️ Even though UDP itself has no ACK function, **applications** can add their own tracking/verification if needed. This gives the “best of both worlds.”

### Protocols that use TCP
- **HTTPS (Hypertext Transfer Protocol Secure)**  
  Reliable transfer of web files from server to client is required.

- **SSH (Secure Shell)**  
  Reliable and secure command/file transfer for terminals.

---

## Ports

### Non-Ephemeral Ports
- Permanent, well-known port numbers.  
- Range: **0–1023**.  
- Commonly used by standard applications and services.

### Ephemeral Ports
- Temporary ports, dynamically assigned during a session.  
- Range: **1024–65535**.  
- Chosen in real-time, often randomly.  

Note: TCP and UDP share the same port number ranges, but they are independent (e.g., TCP 80 ≠ UDP 80).

---

## Example of a Transmission
![[port traffic.png]]


# Common Ports

It’s important to memorize some ports for **firewall rules** and port-based security.  
**Note:** Understand the **port number**, **protocol**, and **why/how** it’s used.

---

| Protocol | Port(s) | Type | Purpose / Notes |
|----------|--------|------|----------------|
| **FTP (File Transfer Protocol)** | TCP 20 (Data), TCP 21 (Control) | TCP | Transfer files between systems. Usually requires authentication. Full functionality includes add, delete, list, etc. |
| **SSH (Secure Shell)** | TCP 22 | TCP | Encrypted communication link. Looks and acts like Telnet but secure. |
| **Telnet** | TCP 23 | TCP | Unencrypted communication for remote access. No security. |
| **SMTP (Simple Mail Transfer Protocol)** | TCP 25 | TCP | Server-to-server email transfer. Clients use **IMAP** or **POP3** to receive email. |
| **DNS (Domain Name System)** | UDP 53 | UDP | Converts domain names to IP addresses. |
| **DHCP (Dynamic Host Configuration Protocol)** | UDP 67 (Server), UDP 68 (Client) | UDP | Automates configuration of IP addresses, subnet masks, etc. |
| **HTTP / HTTPS** | TCP 80 / TCP 443 | TCP | Web traffic: HTTP = unencrypted, HTTPS = encrypted. |
| **POP3 (Post Office Protocol v3)** | TCP 110 | TCP | Receives emails from a server. Basic email download. |
| **IMAP4 (Internet Message Access Protocol)** | TCP 143 | TCP | Receives emails and manages mailboxes on the server. |
| **SMB / CIFS (Server Message Block / Common Internet File System)** | UDP 137, UDP 139 (NetBIOS), TCP 445 (Direct) | TCP/UDP | File and printer sharing on Windows networks. |
| **LDAP / LDAPS (Lightweight Directory Access Protocol)** | TCP 389 | TCP | Store and retrieve information in a network directory. |
| **RDP (Remote Desktop Protocol)** | TCP 3389 | TCP | Share and control desktops remotely. |

---

### Quick Tips

- FTP: TCP 20 = **data**, TCP 21 = **control**  
- DHCP: UDP 67 = server, UDP 68 = client  
- SMB: Can use **NetBIOS** (UDP 137/139) or **direct TCP** (445)  
- Remember: **TCP = reliable, connection-oriented**, **UDP = unreliable, connectionless**

